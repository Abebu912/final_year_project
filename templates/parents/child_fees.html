{% extends 'base.html' %}
{% block title %}Fees - {{ child.get_full_name|default:child.username }}{% endblock %}
{% block content %}
<div class="container py-4">
  <h3>Fees for {{ child.get_full_name|default:child.username }}</h3>
  <p>Relationship: {{ relationship }}</p>

  {% if payments %}
    <table class="table table-sm">
      <thead>
        <tr><th>Date</th><th>Amount</th><th>Status</th></tr>
      </thead>
      <tbody>
        {% for p in payments %}
        <tr>
          <td>{{ p.payment_date|date:"Y-m-d H:i" }}</td>
          <td>{{ p.amount_paid }}</td>
          <td>{{ p.status }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="mt-3">
      <strong>Pending:</strong> {{ pending_payments.count }} â€¢ <strong>Completed:</strong> {{ completed_payments.count }}
    </div>
  {% else %}
    <div class="alert alert-info">No payments found for this child.</div>
  {% endif %}

  <a href="{% url 'parent_fees_summary' %}" class="btn btn-primary mt-3">Fees Summary</a>
  <a href="{% url 'parent_dashboard' %}" class="btn btn-secondary mt-3">Back to Dashboard</a>
</div>
{% endblock %}
